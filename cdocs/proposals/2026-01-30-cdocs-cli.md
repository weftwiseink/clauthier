---
first_authored:
  by: "@claude-opus-4-5-20251101"
  at: 2026-01-30T12:00:00-08:00
task_list: cdocs/cli
type: proposal
state: live
status: request_for_proposal
tags: [cli, tooling, architecture, typescript]
---

# CDocs CLI

> BLUF(mjr/cdocs/cli): A standalone TypeScript CLI (`cdocs-cli`) for pure-logic operations that don't require LLM context: document archival with path rewriting, frontmatter templating, document search, and status listing.
> Motivated by: the archive formalism proposal (`cdocs/proposals/2026-01-30-archive-formalism.md`), which needs a scriptable tool for moving documents and rewriting references.

## Objective

Several CDocs operations are pure logic: moving files, rewriting paths, querying frontmatter, templating documents.
These don't benefit from LLM reasoning and are better served by a deterministic, fast CLI tool.
Currently these operations are either manual or handled ad-hoc by Claude skills that shell out to grep/sed.
A dedicated CLI would provide reliable, testable implementations of these operations and serve as the foundation for automation scripts and hooks.

## Scope

The full proposal should explore:

- **Architecture**: standalone TypeScript CLI using a framework like `commander` or `yargs`, compiled to a single executable or run via `npx`.
- **Core commands**: at minimum `archive` (move + rewrite refs), `search` (query documents by frontmatter fields), `status` (list documents filtered by type/state/status/tags), `template` (scaffold a document from a template with filled frontmatter).
- **Integration points**: how the CLI relates to existing Claude skills (e.g., `/cdocs:status` could delegate to `cdocs-cli status`), hooks, and the plugin manifest.
- **Path resolution**: how the CLI discovers the cdocs root directory and plugin configuration.
- **Testing strategy**: unit tests for path rewriting logic, integration tests for file operations.
- **Distribution**: whether the CLI ships as part of the plugin, as a separate npm package, or both.

## Open Questions

- Should the CLI be a dependency of the plugin or a peer tool installed separately?
- What is the minimum viable command set for a first release?
- Should the CLI support configuration files (e.g., `.cdocsrc`) or rely entirely on convention and CLI flags?
- How should the CLI handle projects with multiple cdocs directories or monorepo layouts?
- Is there value in a programmatic API (importable module) in addition to the CLI interface?
